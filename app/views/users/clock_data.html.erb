<div class="container">
  <div class="mb-4">
    <%= render 'shared/clock' %>
  </div>

  <table class="table table-bordered mb-4">
    <tbody>
    <% @user.each do |user| %>
      <tr>
        <% if user.karyawan.nil? %>
          <div></div>
        <% else %>
          <td><%= user.karyawan.name %></td>
          <td class="text-center">
            <% if user.clocks.last&.clock_in %>
              Clocked In since: <%= user.clocks.last.event_time.strftime('%Y-%m-%d %H:%M:%S') %>
            <% else %>
              Not Clocked In
            <% end %>
          </td>
          <td class="text-center">
            <% if user.clocks.last&.clock_in %>
              <%= link_to 'Clock Out', clock_out_user_path(user), data: { turbo_method: :post }, class: "btn btn-danger" %>
            <% else %>
              <%= link_to 'Clock In', clock_in_user_path(user), data: { turbo_method: :post }, class: "btn btn-primary" %>
            <% end %>
          </td>
          </tr>
        <% end %>
    <% end %>
    </tbody>
  </table>
</div>
</div>


